---
title: "Atelier Harmonica - MJC de Savigny"
output: 
  html_document:
    theme: united
    highlight: tango
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F , message = F , warning = F)

library(openxlsx)
library(tidyverse)
library(DT)
library(htmltools)

rm(list = ls())

```

<style>
/* Style des cartes */
#cards-container {
  display: none;
}

.card {
  border: 1px solid #ddd;
  border-radius: 10px;
  margin-bottom: 20px;
  padding: 15px;
  box-shadow: 1px 1px 5px rgba(0,0,0,0.1);
  background: white;
}

/* Responsive ‚Äì affiche les cartes uniquement sur mobile */
@media (max-width: 768px) {
  #cards-container {
    display: block;
  }

.card p {
    margin-bottom: 10px !important;
  }

  .dataTables_wrapper {
    display: none;
  }
}
</style>

<style>
.dataTables_wrapper {
  width: 100% !important;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

table.dataTable {
  width: 100% !important;
  white-space: nowrap;
}

@media only screen and (max-width: 600px) {
  table.dataTable {
    font-size: 12px;
  }
}
</style>

<style>
@media only screen and (max-width: 600px) {
  body {
    padding: 10px;
  }

  h1 {
    font-size: 22px !important;
  }

  p {
    font-size: 14px !important;
  }
}
</style>


<style>

p {
  font-size: 15px !important;
  line-height: 1.6 !important;
  margin-bottom: 24px !important;
}

h1 {
  color: brown;
  text-align: center;
  font-size: 30px !important;
}

hr {
  border: none;
  height: 1px;
  background-color: brown;
}

.dataTables_wrapper {
  width: 100% !important;
  overflow-x: auto;
}

table.dataTable {
  width: 100% !important;
}
</style>


## {.tabset}

### Tablatures

Quelques uns des morceaux travaill√©s dans le cadre de l'atelier au cours des ann√©es et quelques autres aussi &#128526;.

Les "vid√©os" sont en fait des exports au format midi et ne sont pas terribles. Mais elles permettent de voir rapidement ce que donnent les morceaux &#129300;...

**Attention quand m√™me aux possibles petites erreurs par-ci par-l√† !** 

<hr>

```{r}

# Lecture du fichier xlsx

p1 <- read.xlsx("Liste_Partitions.xlsx") %>%
  arrange(titre) %>%
  mutate(fichier = paste0('<a href="sheets/' ,
                          fichier ,
                          '"  target="_blank">' ,
                          'Lien</a>')) %>%
  mutate(video = ifelse(!is.na(video) ,
                        paste0('<a href="videos/' ,
                                video ,
                                '"  target="_blank">' ,
                                'Lien</a>') ,
                        NA))

# Affichage de la table

datatable(p1 , 
          colnames = c("Titre" , 
                       "Auteur" , 
                       "Style" , 
                       "Harmonica" ,
                       "Partition" , 
                       "Video") ,
          filter = "top" , 
          rownames = F ,
          escape = F ,
          style = "bootstrap4" ,
          options = list(pageLength = 50 , 
                         ordering = FALSE, 
                         autoWidth = TRUE,
                         scrollX = TRUE,
                         responsive = TRUE,
                         dom = 'ftp') ,
          class = 'compact stripe hover',
          width = '100%')

# Cr√©er du HTML de type "card" pour chaque morceau
cards_html <- p1 %>%
  mutate(html = paste0(
    '<div class="card">',
      '<div class="card-body">',
        '<h5 class="card-title">üéµ ', titre, '</h5>',
        '<p><strong>Auteur :</strong> ', auteur, '</p>',
        '<p><strong>Style :</strong> ', style, '</p>',
        '<p><strong>Harmonica :</strong> ', harmo, '</p>',
        '<p><strong>Partition :</strong> ', fichier, '</p>',
        ifelse(!is.na(video),
               paste0('<p><strong>Vid√©o :</strong> ', video, '</p>'),
               ''),
      '</div>',
    '</div>'
  )) %>%
  pull(html) %>%
  paste(collapse = "\n")

# Afficher les cartes dans un <div id="cards-container">
HTML(paste0('<div id="cards-container">', cards_html, '</div>'))

```

### Autres ressources

D'autres ressources qui peuvent √™tre int√©ressantes.  Ce sont des pages YouTube pour le moment. 

**N'h√©sitez pas √† proposer d'autres liens si vous en avez !**

<hr>

&#128204; <a href="https://www.youtube.com/channel/UCSsFJZEliooPyp15IG6VsBg" target="_blank">Jean-Jacques Milteau</a>

&#128204; <a href="https://www.youtube.com/@BrendanPowerMusic" target="_blank">Brendan Power</a>

&#128204; <a href="https://www.youtube.com/channel/UCfYHJbTZklgZU1bEVLaZyvQ" target="_blank">Adam Gussow</a>

&#128204; <a href="https://www.youtube.com/@indiarasfair" target="_blank">Indiara Sfair</a>

&#128204; <a href="https://www.youtube.com/@harmonicafun" target="_blank">Harmonicafun</a>

&#128204; <a href="https://www.youtube.com/channel/UCBLq_Sd1msR2wyA6KSk6i_g" target="_blank">Paul Lassey</a>
